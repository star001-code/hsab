<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ghadeer Accounts | Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</title>
  <style>
    :root{
      --bg: #0f172a;           /* slate-900 */
      --card: rgba(255,255,255,0.08);
      --card-hover: rgba(255,255,255,0.12);
      --text: #e5e7eb;         /* gray-200 */
      --muted: #94a3b8;        /* slate-400 */
      --accent: #38bdf8;       /* sky-400 */
      --accent-2:#22d3ee;      /* cyan-400 */
      --danger:#f43f5e;        /* rose-500 */
      --success:#22c55e;       /* green-500 */
      --warning:#f59e0b;       /* amber-500 */
      --border: rgba(255,255,255,0.12);
      --glass: blur(10px);
      --radius: 14px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:
      radial-gradient(1200px 800px at 100% -10%, #1f2937 0%, transparent 60%),
      radial-gradient(1000px 800px at -10% 110%, #172554 0%, transparent 60%),
      var(--bg);
      color:var(--text); font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Arabic", Tahoma, Arial, sans-serif;
      line-height:1.6;
    }
    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter: var(--glass);
      background: linear-gradient(180deg, rgba(15,23,42,.85), rgba(15,23,42,.55));
      border-bottom:1px solid var(--border);
    }
    .container{max-width:1100px; margin:0 auto; padding:16px;}
    .brand{display:flex; align-items:center; gap:12px}
    .brand .logo{
      width:40px; height:40px; display:grid; place-items:center; font-weight:700;
      border-radius:10px; background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color:#00111a; box-shadow: var(--shadow);
    }
    .brand h1{font-size:18px; margin:0}
    nav{
      display:flex; gap:8px; flex-wrap:wrap; margin-top:12px;
    }
    .tab{
      border:1px solid var(--border); color:var(--text); background:var(--card);
      padding:10px 14px; border-radius:10px; cursor:pointer; transition:.2s;
    }
    .tab.active, .tab:hover{background:var(--card-hover); border-color:rgba(255,255,255,.18)}
    main{padding:18px 0 40px}
    .grid{
      display:grid; grid-template-columns: 1.2fr 1fr; gap:16px;
    }
    .card{
      background: var(--card);
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .card h2{margin:0 0 10px; font-size:18px}
    .muted{color:var(--muted); font-size:14px}
    .form-grid{
      display:grid; grid-template-columns: repeat(4, 1fr); gap:10px;
    }
    label{font-size:12px; color:var(--muted)}
    input, select, textarea{
      width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border);
      background: rgba(255,255,255,0.04); color:var(--text); outline:none;
    }
    input:focus, select:focus, textarea:focus{border-color:var(--accent)}
    .actions{display:flex; gap:8px; flex-wrap:wrap}
    .btn{
      padding:10px 14px; border-radius:10px; border:1px solid var(--border);
      background:var(--card); color:var(--text); cursor:pointer;
    }
    .btn.primary{background: linear-gradient(135deg, var(--accent), var(--accent-2)); color:#06202b; border:0; font-weight:700}
    .btn.danger{background: rgba(244,63,94,.12); border-color: rgba(244,63,94,.35); color:#fecdd3;}
    .btn.ghost:hover{background:var(--card-hover)}
    table{width:100%; border-collapse: collapse; font-size:14px}
    thead th{
      text-align:right; font-weight:600; color:#cbd5e1; border-bottom:1px solid var(--border); padding:10px 8px;
    }
    tbody td{border-bottom:1px dashed var(--border); padding:10px 8px}
    .pill{display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; font-size:12px; border:1px solid var(--border); background:rgba(255,255,255,.04)}
    .pill.in{border-color:rgba(34,197,94,.35); background:rgba(34,197,94,.08)}
    .pill.out{border-color:rgba(244,63,94,.35); background:rgba(244,63,94,.08)}
    .stats{display:grid; grid-template-columns: repeat(4, 1fr); gap:10px}
    .stat{padding:12px; border:1px solid var(--border); border-radius:12px; background:rgba(255,255,255,.04)}
    .stat h3{margin:4px 0; font-size:20px}
    .stat small{color:var(--muted)}
    .toolbar{display:flex; gap:10px; align-items:end; flex-wrap:wrap; margin-top:8px}
    .search{flex:1}
    .row-actions{display:flex; gap:6px}
    .right{text-align:left}
    .balance-pos{color:#86efac}
    .balance-neg{color:#fda4af}
    .link{color:var(--accent); cursor:pointer; text-decoration:underline}
    .footer-note{color:var(--muted); font-size:12px; text-align:center; margin-top:14px}
    .hidden{display:none !important}

    /* Drawer (ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„) */
    .drawer{
      position:fixed; inset:0; display:none; z-index:50;
      background: rgba(0,0,0,.45);
    }
    .drawer.open{display:block}
    .drawer-panel{
      position:absolute; inset-block:0; inset-inline-start:0; width:min(680px, 100%);
      background: #0b1224; border-inline-end:1px solid var(--border);
      padding:16px 16px 90px; overflow:auto;
    }

    /* Responsive */
    @media (max-width: 1024px){
      .grid{grid-template-columns:1fr}
      .form-grid{grid-template-columns: repeat(2, 1fr)}
      .stats{grid-template-columns: repeat(2, 1fr)}
    }
    @media (max-width: 640px){
      nav{gap:6px}
      .tab{flex:1; text-align:center; padding:10px}
      .form-grid{grid-template-columns: 1fr}
      .toolbar{flex-direction:column; align-items:stretch}
      .stats{grid-template-columns: 1fr 1fr}
      thead{display:none}
      table, tbody, tr, td{display:block; width:100%}
      tbody tr{border:1px solid var(--border); border-radius:10px; margin:8px 0; padding:6px}
      tbody td{border:0; display:flex; justify-content:space-between; gap:10px}
      tbody td::before{content: attr(data-label); color:var(--muted)}
      .right{text-align:right}
    }
  
    /* Auth gate */
    .auth-gate{
      position:fixed; inset:0; z-index:999;
      background: rgba(0,0,0,.6);
      display:none;
      backdrop-filter: var(--glass);
    }
    .auth-gate.open{display:grid; place-items:center}
    .auth-box{
      width:min(520px, 92vw);
      background: #0b1224;
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .auth-box h2{margin:0 0 10px}
    .auth-grid{display:grid; grid-template-columns:1fr 1fr; gap:10px}
    @media (max-width:640px){ .auth-grid{grid-template-columns:1fr} }

  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="brand">
        <div class="logo">GL</div>
        <div>
          <h1>Ghadeer Accounts</h1>
          <div class="muted">Ù†Ø¸Ø§Ù… Ø­Ø³Ø§Ø¨Ø§Øª Ø¨Ø³ÙŠØ· ÙˆØ£Ù†ÙŠÙ‚ â€” ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±</div>
        </div>
      </div>
      <nav id="tabs">
        <button class="tab active" data-tab="clients">ğŸ‘¥ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</button>
        <button class="tab" data-tab="transactions">ğŸ§¾ ÙÙˆØ§ØªÙŠØ±/Ø¯ÙØ¹Ø§Øª</button>
        <button class="tab" data-tab="expenses">ğŸ› ï¸ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</button>
        <button class="tab" data-tab="summary">ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ø´Ø±ÙƒØ©</button>
        <button class="tab" data-tab="settings">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ -->
    <section id="clients" class="tab-pane">
      <div class="grid">
        <div class="card">
          <h2>Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</h2>
          <div class="form-grid">
            <div>
              <label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
              <input id="c_name" placeholder="Ù…Ø«Ø§Ù„: Ø´Ø±ÙƒØ© Ø´Ù…Ø§Ù„ ÙƒØ±Ø¯Ø³ØªØ§Ù†" />
            </div>
            <div>
              <label>Ø§Ù„Ù‡Ø§ØªÙ</label>
              <input id="c_phone" placeholder="07xxxxxxxx" />
            </div>
            <div>
              <label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
              <input id="c_city" placeholder="Ø£Ø±Ø¨ÙŠÙ„" />
            </div>
            <div class="actions" style="align-items:end">
              <button class="btn primary" id="addClientBtn">â• Ø¥Ø¶Ø§ÙØ©</button>
              <button class="btn ghost" id="importClientsBtn" title="Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…Ù† CSV">â¬†ï¸ Ø§Ø³ØªÙŠØ±Ø§Ø¯ CSV</button>
              <button class="btn ghost" id="exportClientsBtn" title="ØªØµØ¯ÙŠØ± Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡">â¬‡ï¸ ØªØµØ¯ÙŠØ±</button>
            </div>
          </div>
          <p class="muted">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ø§Ø³Ù… ÙŠØ³ØªØ®Ø¯Ù… ÙƒÙ…ÙØªØ§Ø­ Ø±Ø¦ÙŠØ³ÙŠ. Ù„Ùˆ ØªÙƒØ±Ø± Ø§Ù„Ø§Ø³Ù… Ø³ØªØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù†ÙØ³ Ø§Ù„Ø¹Ù…ÙŠÙ„.</p>
        </div>

        <div class="card">
          <div class="toolbar">
            <div class="search" style="flex:1">
              <label>Ø¨Ø­Ø«</label>
              <input id="clientSearch" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ..." oninput="renderClients()" />
            </div>
            <div>
              <label>ÙØ±Ø²</label>
              <select id="clientSort" onchange="renderClients()">
                <option value="name">Ø­Ø³Ø¨ Ø§Ù„Ø§Ø³Ù…</option>
                <option value="balanceDesc">Ø§Ù„Ø±ØµÙŠØ¯ (ØªÙ†Ø§Ø²Ù„ÙŠ)</option>
                <option value="balanceAsc">Ø§Ù„Ø±ØµÙŠØ¯ (ØªØµØ§Ø¹Ø¯ÙŠ)</option>
                <option value="invoices">Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</option>
              </select>
            </div>
          </div>
          <div style="margin-top:10px; overflow:auto">
            <table>
              <thead>
                <tr>
                  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                  <th>Ø§Ù„Ù‡Ø§ØªÙ</th>
                  <th>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</th>
                  <th>Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</th>
                  <th>Ø§Ù„Ø±ØµÙŠØ¯</th>
                  <th class="right">Ø®ÙŠØ§Ø±Ø§Øª</th>
                </tr>
              </thead>
              <tbody id="clientRows"></tbody>
            </table>
          </div>
        </div>
      </div>
      <p class="footer-note">ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­. ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù….</p>
    </section>

    <!-- ÙÙˆØ§ØªÙŠØ±/Ø¯ÙØ¹Ø§Øª -->
    <section id="transactions" class="tab-pane hidden">
      <div class="grid">
        <div class="card">
          <h2>Ø¥Ø¶Ø§ÙØ© ÙØ§ØªÙˆØ±Ø© / Ø®Ø¯Ù…Ø©</h2>
          <div class="form-grid">
            <div>
              <label>Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
              <select id="t_client"></select>
            </div>
            <div>
              <label>Ø§Ù„ÙˆØµÙ</label>
              <input id="t_desc" placeholder="ÙˆØµÙ Ø§Ù„Ø®Ø¯Ù…Ø©" />
            </div>
            <div>
              <label>Ø§Ù„Ù…Ø¨Ù„Øº</label>
              <input id="t_amount" type="number" step="0.01" placeholder="0" />
            </div>
            <div>
              <label>Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
              <input id="t_date" type="date" />
            </div>
            <div class="actions" style="grid-column:1/-1">
              <button class="btn primary" id="addInvoiceBtn">ğŸ§¾ Ø¥Ø¶Ø§ÙØ© ÙØ§ØªÙˆØ±Ø©</button>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹Ø© Ù…Ø³ØªÙ„Ù…Ø©</h2>
          <div class="form-grid">
            <div>
              <label>Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
              <select id="p_client"></select>
            </div>
            <div>
              <label>Ø§Ù„ÙˆØµÙ</label>
              <input id="p_desc" placeholder="Ù…Ø«Ø§Ù„: Ø¯ÙØ¹Ø© Ù†Ù‚Ø¯ÙŠØ©" />
            </div>
            <div>
              <label>Ø§Ù„Ù…Ø¨Ù„Øº</label>
              <input id="p_amount" type="number" step="0.01" placeholder="0" />
            </div>
            <div>
              <label>Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
              <input id="p_date" type="date" />
            </div>
            <div class="actions" style="grid-column:1/-1">
              <button class="btn primary" id="addPaymentBtn">ğŸ’¸ ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹Ø©</button>
            </div>
          </div>
          <p class="muted">Ø§Ù„Ø¯ÙØ¹Ø§Øª ØªÙÙ‚Ù„Ù‘Ù„ Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆÙ„Ø§ ØªÙØ­Ø³Ø¨ Ù…ØµØ±ÙˆÙÙ‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙƒØ©.</p>
        </div>
      </div>
    </section>

    <!-- Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª -->
    <section id="expenses" class="tab-pane hidden">
      <div class="grid">
        <div class="card">
          <h2>Ø¥Ø¶Ø§ÙØ© Ù…ØµØ±ÙˆÙ Ø¹Ø§Ù…</h2>
          <div class="form-grid">
            <div>
              <label>Ø§Ù„ÙˆØµÙ</label>
              <input id="e_desc" placeholder="ÙˆÙ‚ÙˆØ¯ØŒ ØµÙŠØ§Ù†Ø©ØŒ Ø±ÙˆØ§ØªØ¨..." />
            </div>
            <div>
              <label>Ø§Ù„Ù…Ø¨Ù„Øº</label>
              <input id="e_amount" type="number" step="0.01" placeholder="0" />
            </div>
            <div>
              <label>Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
              <input id="e_date" type="date" />
            </div>
            <div class="actions" style="grid-column:1/-1">
              <button class="btn primary" id="addExpenseBtn">ğŸ› ï¸ Ø¥Ø¶Ø§ÙØ© Ù…ØµØ±ÙˆÙ</button>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>Ø³Ø¬Ù„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h2>
          <div style="overflow:auto">
            <table>
              <thead>
                <tr>
                  <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                  <th>Ø§Ù„ÙˆØµÙ</th>
                  <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
                  <th class="right">Ø®ÙŠØ§Ø±Ø§Øª</th>
                </tr>
              </thead>
              <tbody id="expenseRows"></tbody>
            </table>
          </div>
          <div class="actions" style="margin-top:10px">
            <button class="btn ghost" id="exportExpensesBtn">â¬‡ï¸ ØªØµØ¯ÙŠØ±</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Ù…Ù„Ø®Øµ Ø§Ù„Ø´Ø±ÙƒØ© -->
    <section id="summary" class="tab-pane hidden">
      <div class="grid">
        <div class="card">
          <h2>Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹</h2>
          <div class="stats">
            <div class="stat">
              <small>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</small>
              <h3 id="s_totalInvoices">-</h3>
            </div>
            <div class="stat">
              <small>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©</small>
              <h3 id="s_totalPayments">-</h3>
            </div>
            <div class="stat">
              <small>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</small>
              <h3 id="s_totalExpenses">-</h3>
            </div>
            <div class="stat">
              <small>ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­</small>
              <h3 id="s_netProfit">-</h3>
            </div>
          </div>
          <p class="muted">Ø§Ù„Ø±Ø¨Ø­ = Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ± âˆ’ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª. Ø§Ù„Ø¯ÙØ¹Ø§Øª Ù„Ø§ ØªÙØ®ØµÙ… Ù…Ù† Ø±Ø¨Ø­ Ø§Ù„Ø´Ø±ÙƒØ©ØŒ Ø¨Ù„ Ù…Ù† Ø£Ø±ØµØ¯Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡.</p>
        </div>

        <div class="card">
          <h2>Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Ø­Ø³Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ±)</h2>
          <div style="overflow:auto">
            <table>
              <thead>
                <tr>
                  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                  <th>Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</th>
                  <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙÙˆØ§ØªÙŠØ±Ù‡</th>
                  <th>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ</th>
                </tr>
              </thead>
              <tbody id="topClientsRows"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
    <section id="settings" class="tab-pane hidden">
      <div class="card">
        <h2>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆÙ†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ</h2>

        <div class="card" style="margin:12px 0; background: rgba(56,189,248,.06); border-color: rgba(56,189,248,.22)">
          <h2 style="margin:0 0 10px; font-size:16px">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ù…Ø·Ù„ÙˆØ¨ Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©)</h2>
          <div class="form-grid" style="grid-template-columns: 1fr 1fr 1fr; align-items:end">
            <div>
              <label>Ø§Ù„Ø¨Ø±ÙŠØ¯</label>
              <input id="auth_email" type="email" placeholder="name@example.com" autocomplete="email"/>
            </div>
            <div>
              <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
              <input id="auth_password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password"/>
            </div>
            <div class="actions">
              <button class="btn primary" id="loginBtn">ğŸ” Ø¯Ø®ÙˆÙ„</button>
              <button class="btn ghost" id="signupBtn" title="Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯">â• ØªØ³Ø¬ÙŠÙ„</button>
              <button class="btn danger" id="logoutBtn" title="ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬">ğŸšª Ø®Ø±ÙˆØ¬</button>
            </div>
          </div>
          <p class="muted" id="auth_status" style="margin:8px 0 0">Ø§Ù„Ø­Ø§Ù„Ø©: ØºÙŠØ± Ù…Ø³Ø¬Ù‘Ù„</p>
          <p class="muted" style="margin:6px 0 0">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ®Ø²Ù‘ÙÙ† ÙÙŠ Firebase Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ. Ù„Ù† ØªØ®ØªÙÙŠ Ø¹Ù†Ø¯ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ù‡Ø§Ø².</p>
        </div>

        <div class="form-grid">
          <div>
            <label>Ø§Ù„Ø¹Ù…Ù„Ø© (Ø±Ù…Ø²)</label>
            <input id="currencyCode" placeholder="IQD, SAR, USD..." />
          </div>
          <div>
            <label>ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…</label>
            <select id="localeSelect">
              <option value="ar-IQ">ar-IQ (Ø¹Ø±Ø§Ù‚)</option>
              <option value="ar-SA">ar-SA (Ø³Ø¹ÙˆØ¯ÙŠØ©)</option>
              <option value="en-US">en-US</option>
              <option value="ar">ar (Ø¹Ø±Ø¨ÙŠ)</option>
            </select>
          </div>
          <div class="actions" style="grid-column:1/-1">
            <button class="btn primary" id="saveSettingsBtn">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
          </div>
        </div>
        <hr style="border-color:var(--border); margin:16px 0">
        <div class="actions">
          <button class="btn" id="exportAllBtn">â¬‡ï¸ ØªØµØ¯ÙŠØ± ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (JSON)</button>
          <button class="btn" id="importAllBtn">â¬†ï¸ Ø§Ø³ØªÙŠØ±Ø§Ø¯ (JSON)</button>
          <button class="btn danger" id="resetBtn">ğŸ—‘ï¸ Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        </div>
        <p class="muted">Ù†ØµÙŠØ­Ø© Ø¹Ù…Ù„ÙŠØ©: ØµØ¯Ù‘Ø± Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø¯ÙˆØ±ÙŠÙ‹Ø§ØŒ Ø®ØµÙˆØµÙ‹Ø§ Ù‚Ø¨Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ØªØµÙØ­.</p>
      </div>
    </section>
  </main>

  <!-- Drawer ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
  <div class="drawer" id="drawer">
    <div class="drawer-panel">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:10px; position:sticky; top:0; background:#0b1224; padding-bottom:10px">
        <div>
          <h2 id="d_title" style="margin:0">ÙƒØ´Ù Ø­Ø³Ø§Ø¨</h2>
          <div class="muted" id="d_subtitle"></div>
        </div>
        <div class="actions">
          <button class="btn" id="d_export">â¬‡ï¸ ØªØµØ¯ÙŠØ±</button>
          <button class="btn" id="d_close">âœ–ï¸ Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
      </div>
      <div class="toolbar" style="margin-top:8px">
        <div class="search" style="flex:1">
          <label>Ø¨Ø­Ø« ÙÙŠ ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨</label>
          <input id="d_search" placeholder="ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ÙˆØµÙ..." />
        </div>
        <div>
          <label>Ø§Ù„Ù…Ø¯Ø©</label>
          <select id="d_range">
            <option value="all">ÙƒÙ„ Ø§Ù„ÙˆÙ‚Øª</option>
            <option value="30">Ø¢Ø®Ø± 30 ÙŠÙˆÙ…</option>
            <option value="90">Ø¢Ø®Ø± 90 ÙŠÙˆÙ…</option>
            <option value="365">Ø¢Ø®Ø± Ø³Ù†Ø©</option>
          </select>
        </div>
      </div>
      <div style="margin-top:10px; overflow:auto">
        <table>
          <thead>
            <tr>
              <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
              <th>Ø§Ù„Ø¨ÙŠØ§Ù†</th>
              <th>Ø§Ù„Ù†ÙˆØ¹</th>
              <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
              <th>Ø§Ù„Ø±ØµÙŠØ¯ Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</th>
              <th class="right">Ø®ÙŠØ§Ø±Ø§Øª</th>
            </tr>
          </thead>
          <tbody id="d_rows"></tbody>
        </table>
      </div>
    </div>
  </div>

  <input id="filePicker" type="file" accept=".json,.csv" class="hidden" />

  <!-- Auth Gate -->
  <div class="auth-gate open" id="authGate" aria-hidden="false">
    <div class="auth-box">
      <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
      <div class="muted" style="margin-bottom:10px">Ø­ØªÙ‰ ØªØ¨Ù‚Ù‰ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¹Ù„Ù‰ Ø£ÙŠ Ø¬Ù‡Ø§Ø².</div>
      <div class="auth-grid">
        <div>
          <label>Ø§Ù„Ø¨Ø±ÙŠØ¯</label>
          <input id="gate_email" type="email" placeholder="name@example.com" autocomplete="email"/>
        </div>
        <div>
          <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
          <input id="gate_password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password"/>
        </div>
      </div>
      <div class="actions" style="margin-top:10px">
        <button class="btn primary" id="gate_login">ğŸ” Ø¯Ø®ÙˆÙ„</button>
        <button class="btn ghost" id="gate_signup" title="Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯">â• ØªØ³Ø¬ÙŠÙ„</button>
      </div>
      <p class="muted" id="gate_status" style="margin-top:10px">Ø§Ù„Ø­Ø§Ù„Ø©: ØºÙŠØ± Ù…Ø³Ø¬Ù‘Ù„</p>
    </div>
  </div>

  <script type="module" src="./firebase.js"></script>
  <script type="module" src="./auth.js"></script>
  <script type="module" src="./storage.js"></script>
  <script type="module" src="./app.js"></script>
</body>
</html>
